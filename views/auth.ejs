<!DOCTYPE html>
<!-- This site was created in Webflow. https://www.webflow.com --><!-- Last Published: Wed May 31 2023 18:49:32 GMT+0000 (Coordinated Universal Time) -->
<html
  data-wf-domain="vabetechs-event-manager.webflow.io"
  data-wf-page="647656c1558e6661a7504188"
  data-wf-site="647656c1558e6661a7504185"
>
  <head>
    <meta charset="utf-8" />
    <title>VabeTech&#x27;s Event Manager</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link href="css/auth.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link
      href="https://fonts.gstatic.com"
      rel="preconnect"
      crossorigin="anonymous"
    />
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: [
            "Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic",
            "Montserrat Alternates:regular",
          ],
        },
      });
    </script>
    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        (n.className += t + "js"),
          ("ontouchstart" in o ||
            (o.DocumentTouch && c instanceof DocumentTouch)) &&
            (n.className += t + "touch");
      })(window, document);
    </script>
    <link
      href="https://uploads-ssl.webflow.com/img/favicon.ico"
      rel="shortcut icon"
      type="image/x-icon"
    />
    <link
      href="https://uploads-ssl.webflow.com/img/webclip.png"
      rel="apple-touch-icon"
    />
  </head>

  <body class="body-2">
    <section class="wf-section">
      <div class="container w-container">
        <img
          src="https://uploads-ssl.webflow.com/647656c1558e6661a7504185/647658ea0a96c077e089650e_Vectors-Wrapper.svg"
          loading="lazy"
          alt=""
        />
      </div>
    </section>
    <section class="wf-section">
      <div class="container-2 w-container">
        <h1 class="heading">EVENT MANAGER</h1>
      </div>
    </section>
    <section class="section wf-section">
      <div class="container-3 w-container">
        <p class="paragraph-2">Sign in</p>
      </div>
    </section>
    <section class="wf-section">
      <div class="container-4 w-container">
        <form id="signup-form">
          <label for="email" class="field-label">Email</label>
          <input
            type="text"
            class="w-input"
            maxlength="256"
            name="email"
            data-name="email"
            placeholder=""
            id="email"
            required
          />
          <div class="email error"></div>
          <label for="password" class="field-label">Password</label>
          <input
            type="password"
            class="w-input"
            maxlength="256"
            name="password"
            data-name="password"
            placeholder=""
            id="password"
            required
          />
          <div class="password error"></div>
          <div
            id="w-node-_1f4b4022-35dc-bf16-9e9e-d0eca0176e70-a7504188"
            class="w-container"
          >
            <button type="submit" class="button-copy w-button">SIGN IN</button>
          </div>
        </form>
      </div>
    </section>
    <section class="section-2 wf-section">
      <div class="w-layout-grid grid">
        <div
          id="w-node-e338ce3f-f36d-760c-8337-1c162cb76e4a-a7504188"
          class="w-container"
        >
          <a href="/signup" class="button-copy w-button">SIGN UP</a>
        </div>
      </div>
    </section>
    <section class="section-4 wf-section">
      <div class="container-5 w-container">
        <a href="/passreset1">Forgot your password?</a>
      </div>
    </section>
    <section class="section-3 wf-section">
      <div class="container-6 w-container">
        <h1 class="heading-2">Â©VabeTech 2023</h1>
      </div>
    </section>
    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=647656c1558e6661a7504185"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="js/auth.js" type="text/javascript"></script>
    <script>
      const form = document.querySelector("#signup-form");
      const emailError = document.querySelector(".email.error");
      const passwordError = document.querySelector(".password.error");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        //reset errors
        emailError.textContent = "";
        passwordError.textContent = "";

        const email = form.email.value;
        const password = form.password.value;

        try {
          const res = await fetch("/auth", {
            method: "POST",
            body: JSON.stringify({ email, password }),
            headers: { "Content-Type": "application/json" },
          });
          const data = await res.json();
          console.log(data);
          if (data.errors) {
            emailError.textContent = data.errors.email;
            passwordError.textContent = data.errors.password;
          }
          if (data.user) {
            location.assign("/mainpage");
          }
        } catch (err) {
          console.log(err);
        }
      });
    </script>
  </body>
</html>
